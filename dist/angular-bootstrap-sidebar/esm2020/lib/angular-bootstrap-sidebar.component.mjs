import { HostListener, Input } from '@angular/core';
import { Component } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "./angular-bootstrap-sidebar.service";
import * as i2 from "@angular/common";
import * as i3 from "./angular-bootstrap-sidebar.directive";
export class ABSComponent {
    constructor(bootstrapAngularSidebarService) {
        this.bootstrapAngularSidebarService = bootstrapAngularSidebarService;
        this.menuStatus = false;
        this.menuDir = 'ltr';
        this.bootstrapAngularSidebarService.getMenuStatus().subscribe((status) => {
            this.menuStatus = status;
        });
        this.bootstrapAngularSidebarService.getDir().subscribe((dir) => {
            this.menuDir = dir;
        });
    }
    handleKeyboardEvent(event) {
        if (event.ctrlKey && event.shiftKey && event.key === 'S') {
            event.preventDefault();
            this.bootstrapAngularSidebarService.toggleMenu();
        }
    }
    ngOnInit() {
        this.menuStatusSubscription = this.bootstrapAngularSidebarService.getMenuStatus().subscribe((status) => {
            this.menuStatus = status;
            if (status) {
                document.body.classList.add('menu-open');
            }
            else {
                document.body.classList.remove('menu-open');
            }
        });
        this.dirSubscription = this.bootstrapAngularSidebarService.getDir().subscribe((dir) => {
            if (dir === '') {
                document.documentElement.setAttribute('dir', 'ltr');
            }
            dir = dir || 'ltr';
            this.menuDir = dir;
        });
        this.menuActive ? this.bootstrapAngularSidebarService.toggleMenu() : null;
        // Emit the menuData array as a single value
        // this.dataSetSubject.next(this.menuData);
        // Subscribe to changes in menuData using dataSetSubject
        // this.dataSetSubject.subscribe((newMenuData: MenuItem[]) => {
        //   // Perform actions when menuData changes
        //   console.log('Menu data has changed:', newMenuData);
        //   // You can update the sidebar based on the new menuData here
        // });
    }
}
ABSComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.10", ngImport: i0, type: ABSComponent, deps: [{ token: i1.ABSService }], target: i0.ɵɵFactoryTarget.Component });
ABSComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.10", type: ABSComponent, selector: "abs", inputs: { menuData: "menuData", menuActive: "menuActive", menuHover: "menuHover" }, host: { listeners: { "document:keydown": "handleKeyboardEvent($event)" } }, ngImport: i0, template: "<div class=\"sidebar {{menuDir}}\" [ngClass]=\"{'menu-open': menuStatus}\" >\r\n    <div class=\"head-block d-flex align-items-center\"\r\n        [ngClass]=\"{'justify-content-between':menuStatus, 'justify-content-center':!menuStatus}\">\r\n        <img alt=\"IION\" class=\"menu-img\" src=\"assets/images/svg/IION.svg\" [ngClass]=\"{'d-none': !menuStatus}\">\r\n        <button (click)=\"bootstrapAngularSidebarService.toggleMenu()\" class=\"btn-dark btn menu-toggle\"><span class=\"fa fa-bars\"\r\n                [style.transform]=\"menuStatus ? 'rotate(-45deg)' : 'none'\"></span></button>\r\n    </div>\r\n    <div sidebarMenu [menuData]=\"menuData\" [menuActive]=\"menuStatus\" [menuHover]=\"menuHover\" class=\"sidebar-menu\"\r\n        [ngClass]=\"{'menu-open':menuStatus}\"></div>\r\n</div>", styles: ["::ng-deep html[dir=ltr] body{padding-left:5rem}::ng-deep html[dir=ltr] body.menu-open{padding-left:22.857rem}::ng-deep html[dir=rtl] body{padding-right:5rem}::ng-deep html[dir=rtl] body.menu-open{padding-right:22.857rem}.head-block{background:#FFF;padding:.571rem 1rem;height:5rem;border-bottom:1px solid #DDD}.head-block .menu-toggle{background:transparent linear-gradient(0deg,#03C9FC 0%,#5BFCB6 100%) 0% 0% no-repeat padding-box}.sidebar.ltr{position:fixed;overflow:visible;display:flex;flex-direction:column;z-index:0;width:5rem;top:0;left:0;height:100%;background:#FFFFFF;z-index:1}.sidebar.ltr.menu-open{width:22.857rem}.sidebar.ltr .sidebar-menu .nav{padding:.625rem}.sidebar.ltr .sidebar-menu .nav .nav-item{margin-bottom:.25rem;position:relative}.sidebar.ltr .sidebar-menu .nav .nav-item:last-child{margin-bottom:0}.sidebar.ltr .sidebar-menu .nav .nav-item .nav-link{border-radius:.438rem;border:1px solid #FFFFFF;font-size:1rem;line-height:1;padding:.771rem 1.017rem!important;font-weight:300;opacity:.8}.sidebar.ltr .sidebar-menu .nav .nav-item .nav-link:hover{border-color:#212130;opacity:1;font-weight:300}.sidebar.ltr .sidebar-menu .nav .nav-item .nav-link.clicked{background:#212130;color:#fff;opacity:1;font-weight:300}.sidebar.ltr .sidebar-menu .nav .nav-item .nav-link.active{background:#FFFFFF;color:#0ccef6;border-color:#0ccef6;opacity:1;font-weight:300}.sidebar.ltr .sidebar-menu .nav .nav-item .nav-link i{height:1.357rem;width:1.357rem;display:inline-block;vertical-align:middle;font-size:1.25rem}.sidebar.ltr .sidebar-menu .nav .nav-item .nav-link i:before{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.sidebar.ltr .sidebar-menu .nav>.nav-item{margin-bottom:.625rem}.sidebar.ltr .sidebar-menu:not(.menu-open){overflow:visible;overflow-x:visible;position:relative}.sidebar.ltr .sidebar-menu:not(.menu-open) .close-menu{position:fixed;height:100%;width:100%;top:0;left:0;z-index:-1;background:rgba(0,0,0,.2)}.sidebar.ltr .sidebar-menu:not(.menu-open) .nav>.nav-item>.nav-link{display:block;text-align:center}.sidebar.ltr .sidebar-menu:not(.menu-open) .nav>.nav-item>.nav-link span{display:none}.sidebar.ltr .sidebar-menu:not(.menu-open) .nav>.nav-item>.nav-link .control-arrow{position:absolute;right:0;display:none}.sidebar.ltr .sidebar-menu:not(.menu-open) .nav>.nav-item.has-submenu{position:relative}.sidebar.ltr .sidebar-menu:not(.menu-open) .nav>.nav-item.has-submenu .submenu:not(.collapse){position:absolute;top:-.571rem;left:calc(100% + .571rem);display:block;width:22.857rem;padding:.571rem .625rem!important}.sidebar.ltr .sidebar-menu:not(.menu-open) .nav>.nav-item.has-submenu .submenu:not(.collapse) .nav-item .nav-link span{display:block}.sidebar.rtl{position:fixed;overflow:visible;display:flex;flex-direction:column;z-index:0;width:5rem;top:0;right:0;height:100%;background:#FFFFFF;z-index:1}.sidebar.rtl.menu-open{width:22.857rem}.sidebar.rtl .sidebar-menu .nav{padding:.625rem}.sidebar.rtl .sidebar-menu .nav .nav-item{margin-bottom:.25rem;position:relative}.sidebar.rtl .sidebar-menu .nav .nav-item:last-child{margin-bottom:0}.sidebar.rtl .sidebar-menu .nav .nav-item .nav-link{border-radius:.438rem;border:1px solid #FFFFFF;font-size:1rem;line-height:1;padding:.771rem 1.017rem!important;font-weight:300;opacity:.8}.sidebar.rtl .sidebar-menu .nav .nav-item .nav-link:hover{border-color:#212130;opacity:1;font-weight:300}.sidebar.rtl .sidebar-menu .nav .nav-item .nav-link.clicked{background:#212130;color:#fff;opacity:1;font-weight:300}.sidebar.rtl .sidebar-menu .nav .nav-item .nav-link.active{background:#FFFFFF;color:#0ccef6;border-color:#0ccef6;opacity:1;font-weight:300}.sidebar.rtl .sidebar-menu .nav .nav-item .nav-link i{height:1.357rem;width:1.357rem;display:inline-block;vertical-align:middle;font-size:1.25rem}.sidebar.rtl .sidebar-menu .nav .nav-item .nav-link i:before{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.sidebar.rtl .sidebar-menu .nav>.nav-item{margin-bottom:.625rem}.sidebar.rtl .sidebar-menu:not(.menu-open){overflow:visible;overflow-x:visible;position:relative}.sidebar.rtl .sidebar-menu:not(.menu-open) .close-menu{position:fixed;height:100%;width:100%;top:0;right:0;z-index:-1;background:rgba(0,0,0,.2)}.sidebar.rtl .sidebar-menu:not(.menu-open) .nav>.nav-item>.nav-link{display:block;text-align:center}.sidebar.rtl .sidebar-menu:not(.menu-open) .nav>.nav-item>.nav-link span{display:none}.sidebar.rtl .sidebar-menu:not(.menu-open) .nav>.nav-item>.nav-link .control-arrow{position:absolute;left:0;display:none}.sidebar.rtl .sidebar-menu:not(.menu-open) .nav>.nav-item.has-submenu{position:relative}.sidebar.rtl .sidebar-menu:not(.menu-open) .nav>.nav-item.has-submenu .submenu:not(.collapse){position:absolute;top:-.571rem;right:calc(100% + .571rem);display:block;width:22.857rem;padding:.571rem .625rem!important}.sidebar.rtl .sidebar-menu:not(.menu-open) .nav>.nav-item.has-submenu .submenu:not(.collapse) .nav-item .nav-link span{display:block}@media (min-width: 768px){.ltr .sidebar-menu{flex-grow:1;overflow-x:hidden;background:#FFFFFF}.ltr .sidebar-menu nav{width:100%}.ltr .sidebar-menu nav .nav-link{display:block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;align-items:center;color:#212130;position:relative;cursor:pointer}.ltr .sidebar-menu nav .nav-link span{display:inline-block;vertical-align:middle;max-width:100%;text-overflow:ellipsis;overflow:hidden}.ltr .sidebar-menu nav .nav-link.active{color:#0ccef6}.ltr .sidebar-menu nav .nav-link .control-arrow{transform:rotate(-90deg)!important}.ltr .sidebar-menu nav .nav-link.clicked .control-arrow{transform:rotate(90deg)!important}.ltr .sidebar-menu nav .nav-link .control-arrow{position:absolute;right:.571rem;top:calc(50% - .5rem)}.ltr .sidebar-menu nav .nav-item{width:100%}.ltr .sidebar-menu nav .nav-item .submenu{display:none;background:#FFFFFF;min-height:100%;padding:.325rem 0 .325rem 2.2rem}.ltr .sidebar-menu nav .nav-item .has-submenu .submenu-open>.submenu{display:block}.ltr .sidebar-menu.menu-open{width:22.857rem}.ltr .sidebar-menu.menu-open nav .nav-item .submenu:not(.collapse){display:block}.ltr .sidebar-menu.menu-open nav .nav-link .control-arrow{transform:rotate(0)!important}.ltr .sidebar-menu.menu-open nav .nav-link.clicked .control-arrow{transform:rotate(180deg)!important}.rtl .sidebar-menu{flex-grow:1;overflow-x:hidden;background:#FFFFFF}.rtl .sidebar-menu nav{width:100%}.rtl .sidebar-menu nav .nav-link{display:block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;align-items:center;color:#212130;position:relative;cursor:pointer}.rtl .sidebar-menu nav .nav-link span{display:inline-block;vertical-align:middle;max-width:100%;text-overflow:ellipsis;overflow:hidden}.rtl .sidebar-menu nav .nav-link.active{color:#0ccef6}.rtl .sidebar-menu nav .nav-link .control-arrow{transform:rotate(90deg)!important}.rtl .sidebar-menu nav .nav-link.clicked .control-arrow{transform:rotate(-90deg)!important}.rtl .sidebar-menu nav .nav-link .control-arrow{position:absolute;left:.571rem;top:calc(50% - .5rem)}.rtl .sidebar-menu nav .nav-item{width:100%}.rtl .sidebar-menu nav .nav-item .submenu{display:none;background:#FFFFFF;min-height:100%;padding:.325rem 2.2rem .325rem 0}.rtl .sidebar-menu nav .nav-item .has-submenu .submenu-open>.submenu{display:block}.rtl .sidebar-menu.menu-open{width:22.857rem}.rtl .sidebar-menu.menu-open nav .nav-item .submenu:not(.collapse){display:block}.rtl .sidebar-menu.menu-open nav .nav-link .control-arrow{transform:rotate(0)!important}.rtl .sidebar-menu.menu-open nav .nav-link.clicked .control-arrow{transform:rotate(-180deg)!important}}\n"], dependencies: [{ kind: "directive", type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i3.ABSDirective, selector: "[sidebarMenu]", inputs: ["menuActive", "menuHover", "menuData"], outputs: ["menuActiveChange"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.10", ngImport: i0, type: ABSComponent, decorators: [{
            type: Component,
            args: [{ selector: 'abs', template: "<div class=\"sidebar {{menuDir}}\" [ngClass]=\"{'menu-open': menuStatus}\" >\r\n    <div class=\"head-block d-flex align-items-center\"\r\n        [ngClass]=\"{'justify-content-between':menuStatus, 'justify-content-center':!menuStatus}\">\r\n        <img alt=\"IION\" class=\"menu-img\" src=\"assets/images/svg/IION.svg\" [ngClass]=\"{'d-none': !menuStatus}\">\r\n        <button (click)=\"bootstrapAngularSidebarService.toggleMenu()\" class=\"btn-dark btn menu-toggle\"><span class=\"fa fa-bars\"\r\n                [style.transform]=\"menuStatus ? 'rotate(-45deg)' : 'none'\"></span></button>\r\n    </div>\r\n    <div sidebarMenu [menuData]=\"menuData\" [menuActive]=\"menuStatus\" [menuHover]=\"menuHover\" class=\"sidebar-menu\"\r\n        [ngClass]=\"{'menu-open':menuStatus}\"></div>\r\n</div>", styles: ["::ng-deep html[dir=ltr] body{padding-left:5rem}::ng-deep html[dir=ltr] body.menu-open{padding-left:22.857rem}::ng-deep html[dir=rtl] body{padding-right:5rem}::ng-deep html[dir=rtl] body.menu-open{padding-right:22.857rem}.head-block{background:#FFF;padding:.571rem 1rem;height:5rem;border-bottom:1px solid #DDD}.head-block .menu-toggle{background:transparent linear-gradient(0deg,#03C9FC 0%,#5BFCB6 100%) 0% 0% no-repeat padding-box}.sidebar.ltr{position:fixed;overflow:visible;display:flex;flex-direction:column;z-index:0;width:5rem;top:0;left:0;height:100%;background:#FFFFFF;z-index:1}.sidebar.ltr.menu-open{width:22.857rem}.sidebar.ltr .sidebar-menu .nav{padding:.625rem}.sidebar.ltr .sidebar-menu .nav .nav-item{margin-bottom:.25rem;position:relative}.sidebar.ltr .sidebar-menu .nav .nav-item:last-child{margin-bottom:0}.sidebar.ltr .sidebar-menu .nav .nav-item .nav-link{border-radius:.438rem;border:1px solid #FFFFFF;font-size:1rem;line-height:1;padding:.771rem 1.017rem!important;font-weight:300;opacity:.8}.sidebar.ltr .sidebar-menu .nav .nav-item .nav-link:hover{border-color:#212130;opacity:1;font-weight:300}.sidebar.ltr .sidebar-menu .nav .nav-item .nav-link.clicked{background:#212130;color:#fff;opacity:1;font-weight:300}.sidebar.ltr .sidebar-menu .nav .nav-item .nav-link.active{background:#FFFFFF;color:#0ccef6;border-color:#0ccef6;opacity:1;font-weight:300}.sidebar.ltr .sidebar-menu .nav .nav-item .nav-link i{height:1.357rem;width:1.357rem;display:inline-block;vertical-align:middle;font-size:1.25rem}.sidebar.ltr .sidebar-menu .nav .nav-item .nav-link i:before{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.sidebar.ltr .sidebar-menu .nav>.nav-item{margin-bottom:.625rem}.sidebar.ltr .sidebar-menu:not(.menu-open){overflow:visible;overflow-x:visible;position:relative}.sidebar.ltr .sidebar-menu:not(.menu-open) .close-menu{position:fixed;height:100%;width:100%;top:0;left:0;z-index:-1;background:rgba(0,0,0,.2)}.sidebar.ltr .sidebar-menu:not(.menu-open) .nav>.nav-item>.nav-link{display:block;text-align:center}.sidebar.ltr .sidebar-menu:not(.menu-open) .nav>.nav-item>.nav-link span{display:none}.sidebar.ltr .sidebar-menu:not(.menu-open) .nav>.nav-item>.nav-link .control-arrow{position:absolute;right:0;display:none}.sidebar.ltr .sidebar-menu:not(.menu-open) .nav>.nav-item.has-submenu{position:relative}.sidebar.ltr .sidebar-menu:not(.menu-open) .nav>.nav-item.has-submenu .submenu:not(.collapse){position:absolute;top:-.571rem;left:calc(100% + .571rem);display:block;width:22.857rem;padding:.571rem .625rem!important}.sidebar.ltr .sidebar-menu:not(.menu-open) .nav>.nav-item.has-submenu .submenu:not(.collapse) .nav-item .nav-link span{display:block}.sidebar.rtl{position:fixed;overflow:visible;display:flex;flex-direction:column;z-index:0;width:5rem;top:0;right:0;height:100%;background:#FFFFFF;z-index:1}.sidebar.rtl.menu-open{width:22.857rem}.sidebar.rtl .sidebar-menu .nav{padding:.625rem}.sidebar.rtl .sidebar-menu .nav .nav-item{margin-bottom:.25rem;position:relative}.sidebar.rtl .sidebar-menu .nav .nav-item:last-child{margin-bottom:0}.sidebar.rtl .sidebar-menu .nav .nav-item .nav-link{border-radius:.438rem;border:1px solid #FFFFFF;font-size:1rem;line-height:1;padding:.771rem 1.017rem!important;font-weight:300;opacity:.8}.sidebar.rtl .sidebar-menu .nav .nav-item .nav-link:hover{border-color:#212130;opacity:1;font-weight:300}.sidebar.rtl .sidebar-menu .nav .nav-item .nav-link.clicked{background:#212130;color:#fff;opacity:1;font-weight:300}.sidebar.rtl .sidebar-menu .nav .nav-item .nav-link.active{background:#FFFFFF;color:#0ccef6;border-color:#0ccef6;opacity:1;font-weight:300}.sidebar.rtl .sidebar-menu .nav .nav-item .nav-link i{height:1.357rem;width:1.357rem;display:inline-block;vertical-align:middle;font-size:1.25rem}.sidebar.rtl .sidebar-menu .nav .nav-item .nav-link i:before{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.sidebar.rtl .sidebar-menu .nav>.nav-item{margin-bottom:.625rem}.sidebar.rtl .sidebar-menu:not(.menu-open){overflow:visible;overflow-x:visible;position:relative}.sidebar.rtl .sidebar-menu:not(.menu-open) .close-menu{position:fixed;height:100%;width:100%;top:0;right:0;z-index:-1;background:rgba(0,0,0,.2)}.sidebar.rtl .sidebar-menu:not(.menu-open) .nav>.nav-item>.nav-link{display:block;text-align:center}.sidebar.rtl .sidebar-menu:not(.menu-open) .nav>.nav-item>.nav-link span{display:none}.sidebar.rtl .sidebar-menu:not(.menu-open) .nav>.nav-item>.nav-link .control-arrow{position:absolute;left:0;display:none}.sidebar.rtl .sidebar-menu:not(.menu-open) .nav>.nav-item.has-submenu{position:relative}.sidebar.rtl .sidebar-menu:not(.menu-open) .nav>.nav-item.has-submenu .submenu:not(.collapse){position:absolute;top:-.571rem;right:calc(100% + .571rem);display:block;width:22.857rem;padding:.571rem .625rem!important}.sidebar.rtl .sidebar-menu:not(.menu-open) .nav>.nav-item.has-submenu .submenu:not(.collapse) .nav-item .nav-link span{display:block}@media (min-width: 768px){.ltr .sidebar-menu{flex-grow:1;overflow-x:hidden;background:#FFFFFF}.ltr .sidebar-menu nav{width:100%}.ltr .sidebar-menu nav .nav-link{display:block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;align-items:center;color:#212130;position:relative;cursor:pointer}.ltr .sidebar-menu nav .nav-link span{display:inline-block;vertical-align:middle;max-width:100%;text-overflow:ellipsis;overflow:hidden}.ltr .sidebar-menu nav .nav-link.active{color:#0ccef6}.ltr .sidebar-menu nav .nav-link .control-arrow{transform:rotate(-90deg)!important}.ltr .sidebar-menu nav .nav-link.clicked .control-arrow{transform:rotate(90deg)!important}.ltr .sidebar-menu nav .nav-link .control-arrow{position:absolute;right:.571rem;top:calc(50% - .5rem)}.ltr .sidebar-menu nav .nav-item{width:100%}.ltr .sidebar-menu nav .nav-item .submenu{display:none;background:#FFFFFF;min-height:100%;padding:.325rem 0 .325rem 2.2rem}.ltr .sidebar-menu nav .nav-item .has-submenu .submenu-open>.submenu{display:block}.ltr .sidebar-menu.menu-open{width:22.857rem}.ltr .sidebar-menu.menu-open nav .nav-item .submenu:not(.collapse){display:block}.ltr .sidebar-menu.menu-open nav .nav-link .control-arrow{transform:rotate(0)!important}.ltr .sidebar-menu.menu-open nav .nav-link.clicked .control-arrow{transform:rotate(180deg)!important}.rtl .sidebar-menu{flex-grow:1;overflow-x:hidden;background:#FFFFFF}.rtl .sidebar-menu nav{width:100%}.rtl .sidebar-menu nav .nav-link{display:block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;align-items:center;color:#212130;position:relative;cursor:pointer}.rtl .sidebar-menu nav .nav-link span{display:inline-block;vertical-align:middle;max-width:100%;text-overflow:ellipsis;overflow:hidden}.rtl .sidebar-menu nav .nav-link.active{color:#0ccef6}.rtl .sidebar-menu nav .nav-link .control-arrow{transform:rotate(90deg)!important}.rtl .sidebar-menu nav .nav-link.clicked .control-arrow{transform:rotate(-90deg)!important}.rtl .sidebar-menu nav .nav-link .control-arrow{position:absolute;left:.571rem;top:calc(50% - .5rem)}.rtl .sidebar-menu nav .nav-item{width:100%}.rtl .sidebar-menu nav .nav-item .submenu{display:none;background:#FFFFFF;min-height:100%;padding:.325rem 2.2rem .325rem 0}.rtl .sidebar-menu nav .nav-item .has-submenu .submenu-open>.submenu{display:block}.rtl .sidebar-menu.menu-open{width:22.857rem}.rtl .sidebar-menu.menu-open nav .nav-item .submenu:not(.collapse){display:block}.rtl .sidebar-menu.menu-open nav .nav-link .control-arrow{transform:rotate(0)!important}.rtl .sidebar-menu.menu-open nav .nav-link.clicked .control-arrow{transform:rotate(-180deg)!important}}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.ABSService }]; }, propDecorators: { menuData: [{
                type: Input
            }], menuActive: [{
                type: Input
            }], menuHover: [{
                type: Input
            }], handleKeyboardEvent: [{
                type: HostListener,
                args: ['document:keydown', ['$event']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1ib290c3RyYXAtc2lkZWJhci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyLWJvb3RzdHJhcC1zaWRlYmFyL3NyYy9saWIvYW5ndWxhci1ib290c3RyYXAtc2lkZWJhci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyLWJvb3RzdHJhcC1zaWRlYmFyL3NyYy9saWIvYW5ndWxhci1ib290c3RyYXAtc2lkZWJhci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVwRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDOzs7OztBQWUxQyxNQUFNLE9BQU8sWUFBWTtJQVF2QixZQUFtQiw4QkFBMEM7UUFBMUMsbUNBQThCLEdBQTlCLDhCQUE4QixDQUFZO1FBSnRELGVBQVUsR0FBRyxLQUFLLENBQUM7UUFDbkIsWUFBTyxHQUFHLEtBQUssQ0FBQztRQUlyQixJQUFJLENBQUMsOEJBQThCLENBQUMsYUFBYSxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDdkUsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUM7UUFDM0IsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsOEJBQThCLENBQUMsTUFBTSxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDN0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7UUFDckIsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsbUJBQW1CLENBQUMsS0FBb0I7UUFDdEMsSUFBSSxLQUFLLENBQUMsT0FBTyxJQUFJLEtBQUssQ0FBQyxRQUFRLElBQUksS0FBSyxDQUFDLEdBQUcsS0FBSyxHQUFHLEVBQUU7WUFDeEQsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyw4QkFBOEIsQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUNsRDtJQUNILENBQUM7SUFDRCxRQUFRO1FBQ04sSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyw4QkFBOEIsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNyRyxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQztZQUN6QixJQUFJLE1BQU0sRUFBRTtnQkFDVixRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7YUFDMUM7aUJBQU07Z0JBQ0wsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQzdDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyw4QkFBOEIsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUNwRixJQUFJLEdBQUcsS0FBSyxFQUFFLEVBQUU7Z0JBQ2QsUUFBUSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQ3JEO1lBQ0QsR0FBRyxHQUFHLEdBQUcsSUFBSSxLQUFLLENBQUM7WUFDbkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7UUFDckIsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsOEJBQThCLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUUxRSw0Q0FBNEM7UUFDNUMsMkNBQTJDO1FBRTNDLHdEQUF3RDtRQUN4RCwrREFBK0Q7UUFDL0QsNkNBQTZDO1FBQzdDLHdEQUF3RDtRQUN4RCxpRUFBaUU7UUFDakUsTUFBTTtJQUNSLENBQUM7OzBHQW5EVSxZQUFZOzhGQUFaLFlBQVksMk1DakJ6QixreUJBU007NEZEUU8sWUFBWTtrQkFMeEIsU0FBUzsrQkFDRSxLQUFLO2lHQUtOLFFBQVE7c0JBQWhCLEtBQUs7Z0JBQ0csVUFBVTtzQkFBbEIsS0FBSztnQkFDRyxTQUFTO3NCQUFqQixLQUFLO2dCQWNOLG1CQUFtQjtzQkFEbEIsWUFBWTt1QkFBQyxrQkFBa0IsRUFBRSxDQUFDLFFBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhvc3RMaXN0ZW5lciwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEFCU1NlcnZpY2UgfSBmcm9tICcuL2FuZ3VsYXItYm9vdHN0cmFwLXNpZGViYXIuc2VydmljZSc7XG5leHBvcnQgaW50ZXJmYWNlIE1lbnVJdGVtIHtcbiAgbGFiZWw6IHN0cmluZztcbiAgaWNvbj86IHN0cmluZztcbiAgbGluaz86IHN0cmluZztcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIHN1Ykl0ZW1zPzogTWVudUl0ZW1bXTtcbn1cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2FicycsXG4gIHRlbXBsYXRlVXJsOiAnLi9hbmd1bGFyLWJvb3RzdHJhcC1zaWRlYmFyLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vYW5ndWxhci1ib290c3RyYXAtc2lkZWJhci5jb21wb25lbnQuc2NzcycsXVxufSlcbmV4cG9ydCBjbGFzcyBBQlNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBASW5wdXQoKSBtZW51RGF0YTogYW55O1xuICBASW5wdXQoKSBtZW51QWN0aXZlOiBhbnk7XG4gIEBJbnB1dCgpIG1lbnVIb3ZlcjogYW55O1xuICBwdWJsaWMgbWVudVN0YXR1cyA9IGZhbHNlO1xuICBwdWJsaWMgbWVudURpciA9ICdsdHInO1xuICBwcml2YXRlIG1lbnVTdGF0dXNTdWJzY3JpcHRpb24hOiBTdWJzY3JpcHRpb247XG4gIHByaXZhdGUgZGlyU3Vic2NyaXB0aW9uITogU3Vic2NyaXB0aW9uO1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgYm9vdHN0cmFwQW5ndWxhclNpZGViYXJTZXJ2aWNlOiBBQlNTZXJ2aWNlKSB7XG4gICAgdGhpcy5ib290c3RyYXBBbmd1bGFyU2lkZWJhclNlcnZpY2UuZ2V0TWVudVN0YXR1cygpLnN1YnNjcmliZSgoc3RhdHVzKSA9PiB7XG4gICAgICB0aGlzLm1lbnVTdGF0dXMgPSBzdGF0dXM7XG4gICAgfSk7XG4gICAgdGhpcy5ib290c3RyYXBBbmd1bGFyU2lkZWJhclNlcnZpY2UuZ2V0RGlyKCkuc3Vic2NyaWJlKChkaXIpID0+IHtcbiAgICAgIHRoaXMubWVudURpciA9IGRpcjtcbiAgICB9KTtcbiAgfVxuICBASG9zdExpc3RlbmVyKCdkb2N1bWVudDprZXlkb3duJywgWyckZXZlbnQnXSlcbiAgaGFuZGxlS2V5Ym9hcmRFdmVudChldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgIGlmIChldmVudC5jdHJsS2V5ICYmIGV2ZW50LnNoaWZ0S2V5ICYmIGV2ZW50LmtleSA9PT0gJ1MnKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5ib290c3RyYXBBbmd1bGFyU2lkZWJhclNlcnZpY2UudG9nZ2xlTWVudSgpO1xuICAgIH1cbiAgfVxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLm1lbnVTdGF0dXNTdWJzY3JpcHRpb24gPSB0aGlzLmJvb3RzdHJhcEFuZ3VsYXJTaWRlYmFyU2VydmljZS5nZXRNZW51U3RhdHVzKCkuc3Vic2NyaWJlKChzdGF0dXMpID0+IHtcbiAgICAgIHRoaXMubWVudVN0YXR1cyA9IHN0YXR1cztcbiAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdtZW51LW9wZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbWVudS1vcGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmRpclN1YnNjcmlwdGlvbiA9IHRoaXMuYm9vdHN0cmFwQW5ndWxhclNpZGViYXJTZXJ2aWNlLmdldERpcigpLnN1YnNjcmliZSgoZGlyKSA9PiB7XG4gICAgICBpZiAoZGlyID09PSAnJykge1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXInLCAnbHRyJyk7XG4gICAgICB9XG4gICAgICBkaXIgPSBkaXIgfHwgJ2x0cic7XG4gICAgICB0aGlzLm1lbnVEaXIgPSBkaXI7XG4gICAgfSk7XG4gICAgdGhpcy5tZW51QWN0aXZlID8gdGhpcy5ib290c3RyYXBBbmd1bGFyU2lkZWJhclNlcnZpY2UudG9nZ2xlTWVudSgpIDogbnVsbDtcblxuICAgIC8vIEVtaXQgdGhlIG1lbnVEYXRhIGFycmF5IGFzIGEgc2luZ2xlIHZhbHVlXG4gICAgLy8gdGhpcy5kYXRhU2V0U3ViamVjdC5uZXh0KHRoaXMubWVudURhdGEpO1xuXG4gICAgLy8gU3Vic2NyaWJlIHRvIGNoYW5nZXMgaW4gbWVudURhdGEgdXNpbmcgZGF0YVNldFN1YmplY3RcbiAgICAvLyB0aGlzLmRhdGFTZXRTdWJqZWN0LnN1YnNjcmliZSgobmV3TWVudURhdGE6IE1lbnVJdGVtW10pID0+IHtcbiAgICAvLyAgIC8vIFBlcmZvcm0gYWN0aW9ucyB3aGVuIG1lbnVEYXRhIGNoYW5nZXNcbiAgICAvLyAgIGNvbnNvbGUubG9nKCdNZW51IGRhdGEgaGFzIGNoYW5nZWQ6JywgbmV3TWVudURhdGEpO1xuICAgIC8vICAgLy8gWW91IGNhbiB1cGRhdGUgdGhlIHNpZGViYXIgYmFzZWQgb24gdGhlIG5ldyBtZW51RGF0YSBoZXJlXG4gICAgLy8gfSk7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJzaWRlYmFyIHt7bWVudURpcn19XCIgW25nQ2xhc3NdPVwieydtZW51LW9wZW4nOiBtZW51U3RhdHVzfVwiID5cclxuICAgIDxkaXYgY2xhc3M9XCJoZWFkLWJsb2NrIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIlxyXG4gICAgICAgIFtuZ0NsYXNzXT1cInsnanVzdGlmeS1jb250ZW50LWJldHdlZW4nOm1lbnVTdGF0dXMsICdqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJzohbWVudVN0YXR1c31cIj5cclxuICAgICAgICA8aW1nIGFsdD1cIklJT05cIiBjbGFzcz1cIm1lbnUtaW1nXCIgc3JjPVwiYXNzZXRzL2ltYWdlcy9zdmcvSUlPTi5zdmdcIiBbbmdDbGFzc109XCJ7J2Qtbm9uZSc6ICFtZW51U3RhdHVzfVwiPlxyXG4gICAgICAgIDxidXR0b24gKGNsaWNrKT1cImJvb3RzdHJhcEFuZ3VsYXJTaWRlYmFyU2VydmljZS50b2dnbGVNZW51KClcIiBjbGFzcz1cImJ0bi1kYXJrIGJ0biBtZW51LXRvZ2dsZVwiPjxzcGFuIGNsYXNzPVwiZmEgZmEtYmFyc1wiXHJcbiAgICAgICAgICAgICAgICBbc3R5bGUudHJhbnNmb3JtXT1cIm1lbnVTdGF0dXMgPyAncm90YXRlKC00NWRlZyknIDogJ25vbmUnXCI+PC9zcGFuPjwvYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IHNpZGViYXJNZW51IFttZW51RGF0YV09XCJtZW51RGF0YVwiIFttZW51QWN0aXZlXT1cIm1lbnVTdGF0dXNcIiBbbWVudUhvdmVyXT1cIm1lbnVIb3ZlclwiIGNsYXNzPVwic2lkZWJhci1tZW51XCJcclxuICAgICAgICBbbmdDbGFzc109XCJ7J21lbnUtb3Blbic6bWVudVN0YXR1c31cIj48L2Rpdj5cclxuPC9kaXY+Il19